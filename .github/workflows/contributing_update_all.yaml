name: "Update all Contributing Files"

on:
  schedule:
    - cron: '0 0 * * 0' # Every Sunday at midnight UTC
  workflow_dispatch:
  push:

jobs:
  update-contributing:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Create a random file
        run: |
          # Generate a random filename
          random_filename=$(cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 10 | head -n 1)
          # Create an empty file with the random filename
          touch $random_filename
      - name: Create a PR for local changes
        uses: peter-evans/create-pull-request@v5
        id: cpr
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          commit-message: "IGNORE THIS - TEST"
          committer: "Github Actions <github-actions@github.com>"
          author: "Github Actions <github-actions@github.com>"
          title: "IGNORE THIS - TEST"
          body: "IGNORE THIS - TEST"
          branch: "ignore-this-branch-it-is-for-testing-only"
          delete-branch: true